---
import Layout from '../../layouts/Layout.astro';
import SubHeader from '../../components/SubHeader.astro';
import Footer from '../../components/Footer.astro';
import { articles } from '../../data/articles';

export function getStaticPaths() {
  return Object.keys(articles).map(slug => ({
    params: { slug }
  }));
}

const { slug } = Astro.params;
const article = articles[slug as keyof typeof articles];

if (!article) {
  return new Response(null, { status: 404 });
}
---
<Layout>
  <SubHeader />
  <main>
    <article class="max-w-2xl mx-auto py-12 px-4">
      <div class="mb-6 flex items-center gap-4">
        <span class="px-3 py-1 rounded-full text-xs font-bold bg-primary text-white shadow">{article.tag}</span>
        <span class="text-xs text-gray-400">{article.date}</span>
      </div>
      <h1 class="text-2xl md:text-3xl font-bold text-white mb-8">{article.title}</h1>
      <div class="prose prose-invert text-gray-200 text-sm md:text-base whitespace-pre-line">
        {article.body}
      </div>
      <div class="mt-12">
        <a href="/diary/" class="text-primary hover:underline">← 記事一覧に戻る</a>
      </div>
    </article> 
  </main>
  <Footer />
</Layout> 